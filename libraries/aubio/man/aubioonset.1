.\" Text automatically generated by txt2man
.TH AUBIOONSET 1 "22 July 2023" "aubio 0.4.9" "aubio User's manual"
.SH NAME
\fBaubioonset \fP- a command line tool to extract musical onset times
\fB
.SH SYNOPSIS
.nf
.fam C

\fBaubioonset\fP \fIsource\fP
\fBaubioonset\fP [[\fB-i\fP] \fIsource\fP] [\fB-o\fP \fIsink\fP]
           [\fB-r\fP \fIrate\fP] [\fB-B\fP \fIwin\fP] [\fB-H\fP \fIhop\fP]
           [\fB-O\fP \fImethod\fP] [\fB-t\fP \fIthres\fP]
           [\fB-T\fP \fItime-format\fP]
           [\fB-s\fP \fIsil\fP] [\fB-m\fP] [\fB-f\fP]
           [\fB-j\fP] [\fB-N\fP \fImiditap-note\fP] [\fB-V\fP \fImiditap-velo\fP]
           [\fB-v\fP] [\fB-h\fP]

.fam T
.fi
.fam T
.fi
.SH DESCRIPTION

\fBaubioonset\fP attempts to detect onset times, the beginning of discrete sound
events, in audio signals.
.PP
When started with an input \fIsource\fP (\fB-i\fP/\fB--input\fP), the detected onset times are
given on the console, in seconds.
.PP
When started without an input \fIsource\fP, or with the jack option (\fB-j\fP/\fB--jack\fP),
\fBaubioonset\fP starts in jack mode.
.SH OPTIONS

This program follows the usual GNU command line syntax, with long options
starting with two dashes (--). A summary of options is included below.
.TP
.B
\fB-i\fP, \fB--input\fP \fIsource\fP
Run analysis on this audio file. Most uncompressed and
compressed are supported, depending on how aubio was built.
.TP
.B
\fB-o\fP, \fB--output\fP \fIsink\fP
Save results in this file. The file will be created on
the model of the input file. Onset times are marked by a short wood-block
like sound.
.TP
.B
\fB-r\fP, \fB--samplerate\fP \fIrate\fP
Fetch the input \fIsource\fP, resampled at the given
sampling \fIrate\fP. The \fIrate\fP should be specified in Hertz as an integer. If 0,
the sampling \fIrate\fP of the original \fIsource\fP will be used. Defaults to 0.
.TP
.B
\fB-B\fP, \fB--bufsize\fP \fIwin\fP
The size of the buffer to analyze, that is the length
of the window used for spectral and temporal computations. Defaults to 512.
.TP
.B
\fB-H\fP, \fB--hopsize\fP \fIhop\fP
The number of samples between two consecutive analysis.
Defaults to 256.
.TP
.B
\fB-O\fP, \fB--onset\fP \fImethod\fP
The onset detection \fImethod\fP to use. See ONSET METHODS
below. Defaults to 'default'.
.TP
.B
\fB-t\fP, \fB--onset-threshold\fP \fIthres\fP
Set the threshold value for the onset peak
picking. Values are typically in the range [0.001, 0.900]. Lower threshold
values imply more onsets detected. Increasing this threshold should reduce
the number of incorrect detections. Defaults to 0.3.
.TP
.B
\fB-M\fP, \fB--minioi\fP value
Set the minimum inter-onset interval, in seconds, the
shortest interval between two consecutive onsets. Defaults to 0.020
.TP
.B
\fB-s\fP, \fB--silence\fP \fIsil\fP
Set the silence threshold, in dB, under which the onset
will not be detected. A value of \fB-20.0\fP would eliminate most onsets but the
loudest ones. A value of \fB-90.0\fP would select all onsets. Defaults to \fB-90.0\fP.
.TP
.B
\fB-T\fP, \fB--timeformat\fP format
Set time format (samples, ms, seconds). Defaults to
seconds.
.TP
.B
\fB-m\fP, \fB--mix-input\fP
Mix \fIsource\fP signal to the output signal before writing to
\fIsink\fP.
.TP
.B
\fB-f\fP, \fB--force-overwrite\fP
Overwrite output file if it already exists.
.TP
.B
\fB-j\fP, \fB--jack\fP
Use Jack input/output. You will need a Jack connection
controller to feed aubio some signal and listen to its output.
.TP
.B
\fB-N\fP, --\fImiditap-note\fP
Override note value for MIDI tap. Defaults to 69.
.TP
.B
\fB-V\fP, \fB--miditap-velop\fP
Override velocity value for MIDI tap. Defaults to 65.
.TP
.B
\fB-h\fP, \fB--help\fP
Print a short help message and exit.
.TP
.B
\fB-v\fP, \fB--verbose\fP
Be verbose.
.SH ONSET METHODS

Available methods are:
.TP
.B
default
Default distance, currently hfc
.PP
Default: 'default' (currently set to hfc)
.TP
.B
energy
Energy based distance
.PP
This function calculates the local energy of the input spectral frame.
.TP
.B
hfc
High-Frequency content
.PP
This \fImethod\fP computes the High Frequency Content (HFC) of the input
spectral frame. The resulting function is efficient at detecting
percussive onsets.
.PP
Paul Masri. Computer modeling of Sound for Transformation and Synthesis of
Musical Signal. PhD dissertation, University of Bristol, UK, 1996.
.TP
.B
complex
Complex domain onset detection function
.PP
This function uses information both in frequency and in phase to determine
changes in the spectral content that might correspond to musical onsets.
It is best suited for complex signals such as polyphonic recordings.
.TP
.B
Christopher Duxbury, Mike E. Davies, and Mark B. Sandler.
Complex domain
onset detection for musical signals. In Proceedings of the Digital Audio
Effects Conference, DAFx-03, pages 90-93, London, UK, 2003.
.TP
.B
phase
Phase based onset detection function
.PP
This function uses information both in frequency and in phase to determine
changes in the spectral content that might correspond to musical onsets. It
is best suited for complex signals such as polyphonic recordings.
.TP
.B
Juan-Pablo Bello, Mike P. Davies, and Mark B. Sandler.
Phase-based note
onset detection for music signals. In Proceedings of the IEEE International
Conference on Acoustics Speech and Signal Processing, pages 441­444,
Hong-Kong, 2003.
.TP
.B
specdiff
Spectral difference onset detection function
.PP
Jonhatan Foote and Shingo Uchihashi. The beat spectrum: a new approach to
rhythm analysis. In IEEE International Conference on Multimedia and Expo
(ICME 2001), pages 881­884, Tokyo, Japan, August 2001.
.TP
.B
kl
Kulback-Liebler onset detection function
.PP
Stephen Hainsworth and Malcom Macleod. Onset detection in music audio
signals. In Proceedings of the International Computer Music Conference
(ICMC), Singapore, 2003.
.TP
.B
mkl
Modified Kulback-Liebler onset detection function
.PP
Paul Brossier, ``Automatic annotation of musical audio for interactive
systems'', Chapter 2, Temporal segmentation, PhD thesis, Centre for
Digital music, Queen Mary University of London, London, UK, 2006.
.TP
.B
specflux
Spectral flux
.PP
Simon Dixon, Onset Detection Revisited, in ``Proceedings of the 9th
International Conference on Digital Audio Effects'' (DAFx-06), Montreal,
Canada, 2006.
.SH SEE ALSO

\fBaubiopitch\fP(1),
\fBaubiotrack\fP(1),
\fBaubionotes\fP(1),
\fBaubioquiet\fP(1),
\fBaubiomfcc\fP(1),
and
\fBaubiocut\fP(1).
.SH AUTHOR

This manual page was written by Paul Brossier <piem@aubio.org>. Permission is
granted to copy, distribute and/or modify this document under the terms of
the GNU General Public License as published by the Free Software Foundation,
either version 3 of the License, or (at your option) any later version.
