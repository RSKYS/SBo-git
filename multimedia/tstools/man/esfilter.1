.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.36.
.TH ESFILTER: "1" "November 2008" "esfilter 1.11" "User Commands"
.SH NAME
esfilter \- Output a filtered or truncated version of a ES
.SH SYNOPSIS
.B esfilter
[\fIactions/switches\fR] \fI<infile>\fR \fI<outfile>\fR
.SH DESCRIPTION
.IP
TS tools version 1.11, esfilter built Nov 11 2008 17:15:39
.IP
Output a filtered or truncated version of an elementary stream.
The input is either H.264 (MPEG\-4/AVC) or H.262 (MPEG\-2).
The output is either an elementary stream, or an H.222 transport
stream
.IP
If output is to an H.222 Transport Stream, then fixed values for
the PMT PID (0x66) and video PID (0x68) are used.
.SS "Files:"
.TP
<infile>
is the input elementary stream (but see \fB\-stdin\fR below).
.IP
<outfile> is the output stream, either an equivalent elementary
.IP
stream, or an H.222 Transport Stream (but see \fB\-stdout\fR
and \fB\-host\fR below).
.SS "Actions:"
.TP
\fB\-copy\fR
Copy the input data to the output file
(mostly useful as a way of truncating data with \fB\-max\fR)
.TP
\fB\-filter\fR
Filter data from input to output, aiming to keep every
<n>th frame (where <n> is specified by \fB\-freq\fR).
.TP
\fB\-strip\fR
For H.264, output just the IDR and I pictures, for H.262,
output just the I pictures, but see \fB\-allref\fR below.
.SS "Switches:"
.TP
\fB\-verbose\fR, \fB\-v\fR
Output extra (debugging) messages
.TP
\fB\-quiet\fR, \fB\-q\fR
Only output error messages
.TP
\fB\-stdin\fR
Take input from <stdin>, instead of a named file
.TP
\fB\-stdout\fR
Write output to <stdout>, instead of a named file
Forces \fB\-quiet\fR.
.TP
\fB\-host\fR <host>, \fB\-host\fR <host>:<port>
Writes output (over TCP/IP) to the named <host>,
instead of to a named file. If <port> is not
specified, it defaults to 88. Implies \fB\-tsout\fR.
.TP
\fB\-max\fR <n>, \fB\-m\fR <n>
Maximum number of frames to read (for \fB\-filter\fR
and \fB\-strip\fR), or ES units/NAL units (for \fB\-copy\fR).
.TP
\fB\-freq\fR <n>
Specify the frequency of frames to try to keep
with \fB\-filter\fR. Defaults to 8.
.TP
\fB\-allref\fR
With \fB\-strip\fR, keep all reference pictures (H.264)
or all I and P pictures (H.262)
.TP
\fB\-tsout\fR
Output data as Transport Stream PES packets
(the default is as Elementary Stream)
.TP
\fB\-pes\fR, \fB\-ts\fR
The input file is TS or PS, to be read via the
PES\->ES reading mechanisms. Not allowed with \fB\-stdin\fR.
.SS "Stream type:"
.IP
If input is from a file, then the program will look at the start of
the file to determine if the stream is H.264 or H.262 data. This
process may occasionally come to the wrong conclusion, in which case
the user can override the choice using the following switches.
.IP
If input is from standard input (via \fB\-stdin\fR), then it is not possible
for the program to make its own decision on the input stream type.
Instead, it defaults to H.262, and relies on the user indicating if
this is wrong.
.TP
\fB\-h264\fR, \fB\-avc\fR
Force the program to treat the input as MPEG\-4/AVC.
.TP
\fB\-h262\fR
Force the program to treat the input as MPEG\-2.
.IP
TS tools version 1.11, esfilter built Nov 11 2008 17:15:39
.IP
Output a filtered or truncated version of an elementary stream.
The input is either H.264 (MPEG\-4/AVC) or H.262 (MPEG\-2).
The output is either an elementary stream, or an H.222 transport
stream
.IP
If output is to an H.222 Transport Stream, then fixed values for
the PMT PID (0x66) and video PID (0x68) are used.
.SS "Files:"
.TP
<infile>
is the input elementary stream (but see \fB\-stdin\fR below).
.IP
<outfile> is the output stream, either an equivalent elementary
.IP
stream, or an H.222 Transport Stream (but see \fB\-stdout\fR
and \fB\-host\fR below).
.SS "Actions:"
.TP
\fB\-copy\fR
Copy the input data to the output file
(mostly useful as a way of truncating data with \fB\-max\fR)
.TP
\fB\-filter\fR
Filter data from input to output, aiming to keep every
<n>th frame (where <n> is specified by \fB\-freq\fR).
.TP
\fB\-strip\fR
For H.264, output just the IDR and I pictures, for H.262,
output just the I pictures, but see \fB\-allref\fR below.
.SS "Switches:"
.TP
\fB\-verbose\fR, \fB\-v\fR
Output extra (debugging) messages
.TP
\fB\-quiet\fR, \fB\-q\fR
Only output error messages
.TP
\fB\-stdin\fR
Take input from <stdin>, instead of a named file
.TP
\fB\-stdout\fR
Write output to <stdout>, instead of a named file
Forces \fB\-quiet\fR.
.TP
\fB\-host\fR <host>, \fB\-host\fR <host>:<port>
Writes output (over TCP/IP) to the named <host>,
instead of to a named file. If <port> is not
specified, it defaults to 88. Implies \fB\-tsout\fR.
.TP
\fB\-max\fR <n>, \fB\-m\fR <n>
Maximum number of frames to read (for \fB\-filter\fR
and \fB\-strip\fR), or ES units/NAL units (for \fB\-copy\fR).
.TP
\fB\-freq\fR <n>
Specify the frequency of frames to try to keep
with \fB\-filter\fR. Defaults to 8.
.TP
\fB\-allref\fR
With \fB\-strip\fR, keep all reference pictures (H.264)
or all I and P pictures (H.262)
.TP
\fB\-tsout\fR
Output data as Transport Stream PES packets
(the default is as Elementary Stream)
.TP
\fB\-pes\fR, \fB\-ts\fR
The input file is TS or PS, to be read via the
PES\->ES reading mechanisms. Not allowed with \fB\-stdin\fR.
.SS "Stream type:"
.IP
If input is from a file, then the program will look at the start of
the file to determine if the stream is H.264 or H.262 data. This
process may occasionally come to the wrong conclusion, in which case
the user can override the choice using the following switches.
.IP
If input is from standard input (via \fB\-stdin\fR), then it is not possible
for the program to make its own decision on the input stream type.
Instead, it defaults to H.262, and relies on the user indicating if
this is wrong.
.TP
\fB\-h264\fR, \fB\-avc\fR
Force the program to treat the input as MPEG\-4/AVC.
.TP
\fB\-h262\fR
Force the program to treat the input as MPEG\-2.
.SH "SEE ALSO"
The full documentation for
.B esfilter
is maintained as a Texinfo manual.
Please check http://tstools.berlios.de for more information.
